# Page Routing

```ts
app.page(path, handler);
```

Page routing uses the `page` method. You can register a path and a handler.

## Path
The path supports both dynamic and static routing. Static routing is prioritized, followed by dynamic routing.

If you register multiple handlers for the same path, the last registered handler will be used.

Dynamic routing uses the [path-to-regexp](https://github.com/pillarjs/path-to-regexp) library, so please refer to its documentation.

## Handler
Xvelte generates the page HTML based on the value returned from the handler.
```ts
app.page('/', (event) => {
    return {
        layouts: [
            {
                component: Layout1,
                props: {foo: 'bar'}
            },
            {
                component: Layout2
            }
        ],
        component: Index,
        props: {f: 1}
    }
});
```

The page handler must return a Svelte component and its props. The props can be omitted depending on the component.

In the handler, you can use the `event` object to get request data from the browser, set headers and cookies, and perform other tasks. For more details, refer to [RequestEvent](./23.%20RequestEvent.md).

### Layouts

Layouts can contain parts that are common to multiple pages, and you can use multiple layouts.

When navigating between pages, common layouts are preserved. For example:

- page1: Layout1, Layout2
- page2: Layout1, Layout3

When navigating from page1 to page2, the Layout1 part will not be re-created in the browser. Layout2 will be removed, and Layout3 will be created.

However, if the layouts are like this:

- page1: Layout1, Layout2
- page2: Layout3, Layout2

In this case, since the first layout does not match, the entire page will be removed, and rendering will start from Layout3.
